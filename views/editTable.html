<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Panel Administrador</title>
  <!-- CDN BoxIcons -->
  <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
  <!-- Incluir Font Awesome desde CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Enlaces Css -->
  <link rel="stylesheet" href="../assets/css/addUser.css">

</head>

<body>
  <!-- SIDEBAR -->
  <section id="sidebar">
    <a href="AdminPanel.html" class="brand"><img src="../assets/img/Clover.png" class="logo_img">Clover</a>
    <ul class="side-menu">
      <li><a href="AdminPanel.html" class="active"><i class='bx bxs-dashboard icon'></i> Dashboard</a></li>
      <li class="divider" data-text="Panel de navegacion"></li>
      <!-- Modulo usuarios-->
      <li>
        <a href="#">
          <i class='bx bxs-user icon'></i> Usuarios
          <i class='bx bx-chevron-right icon-right'></i>
        </a>

        <ul class="side-dropdown">
          <li><a href="listUsers.html">Lista de usuarios</a></li>
          <li><a href="addUser.html">Agregar usuario</a></li>
        </ul>
      </li>
      <!--Modulo Articulos-->
      <li>
        <a href="#">
          <i class='bx bxs-package icon'></i> Articulos
          <i class='bx bx-chevron-right icon-right'></i>
        </a>
        <ul class="side-dropdown">
          <li><a href="productsList.html">Lista de articulos</a></li>
          <li><a href="addProduct.html">Agregar articulos</a></li>
        </ul>
      </li>
      <!--Modulo de mesas-->
      <li>
        <a href="#">
          <i class='bx bx-table icon'></i> Mesas
          <i class='bx bx-chevron-right icon-right'></i>
        </a>
        <ul class="side-dropdown">
          <li><a href="tableList.html">Lista de mesas</a></li>
          <li><a href="addTable.html">Agregar mesas</a></li>
        </ul>
      </li>
      <!--Modulo de ventas-->
      <li>
        <a href="#">
          <i class='bx bx-bar-chart icon'></i> Ventas
          <i class='bx bx-chevron-right icon-right'></i>
        </a>
        <ul class="side-dropdown">
          <li><a href="listSales.html">Lista de ventas</a></li>
          <li><a href="addSale.html">Agregar venta</a></li>
        </ul>
      </li>
      <!--Modulo de configuraciones-->
      <li class="divider" data-text="Opciones">Opciones</li>
      <li>
        <a href="#">
          <i class='bx bxs-cog icon'></i> Configuración
          <i class='bx bx-chevron-right icon-right'></i>
        </a>
        <ul class="side-dropdown">
          <li><a href="#">General</a></li>
          <li><a href="prolife.html">Perfil</a></li>
        </ul>
      </li>
    </ul>
  </section>
  <!-- SIDEBAR -->

  <!-- NAVBAR -->
  <section id="content">
    <!-- NAVBAR -->
    <nav>
      <i class='bx bx-menu toggle-sidebar'></i>
      <form action="#">
        <div class="form-group">
          <input type="text" placeholder="Buscar...">
        </div>
      </form>

      <span class="divider"></span>

      <div class="profile">
        <img src="" alt="" id="imagenEnOtraPagina">
        <ul class="profile-link">
          <li><a href="prolife.html"><i class='bx bxs-user-circle icon'></i> Perfil</a></li>
          <li><a href="#"><i class='bx bxs-cog'></i> Configuracion</a></li>
          <li><a href="#" id="btnSalir"><i class='bx bxs-log-out-circle'></i> Salir</a></li>
        </ul>
      </div>

    </nav>
    <!-- NAVBAR -->

    <!-- MAIN -->

    <main>
      <div class="bread-container">
        <h1 class="title">Editar mesa</h1>
        <ul class="breadcrumbs">
          <li><a href="AdminPanel.html">Dashboard</a></li>
          <li class="divider">/</li>
          <li><a href="#" class="active">mesas</a></li>
          <li class="divider">/</li>
          <li><a href="#" class="active">editar mesas</a></li>
        </ul>
      </div>

      <div class="container">
        <div class="card">

          <form id="contact-form">
            <div class="row">
              <div class="column">
                <div class="form-group">
                  <label for="numeroMesa">Numero de mesa*</label>
                  <input id="numeroMesa" type="number" name="numeroMesa" required="required">
                </div>
              </div>
              <div class="column">
                <div class="form-group">
                  <label for="estadoMesa">Estado*</label>
                  <select id="estadoMesa" name="estadoMesa">
                    <option value="Disponible">Disponible</option>
                    <option value="No Disponible">No disponible</option>
                  </select>
                </div>
              </div>
              <div class="column">
                <div class="form-group">
                  <label for="mesaId">ID de mesa*</label>
                  <input id="mesaId" type="number" name="mesaId" required="required">
                </div>
              </div>
            </div>
            <div class="row">
              <div class="column">
                <div class="form-group">
                  <label for="capacidadMesa">Capacidad*</label>
                  <input id="capacidadMesa" type="number" step="0.01" name="capacidadMesa" required="required">
                </div>
              </div>
              <div class="column">
                <div class="form-group">
                  <label for="descripcionMesa">Descripción*</label>
                  <textarea id="descripcionMesa" name="descripcionMesa" rows="5"></textarea>
                </div>
              </div>
              <div class="column">
                <label for="imagenUrlMesa">Imagen de mesa*</label>
                <div class="form-group border-dotted" id="imageContainer">
                  <input type="file" id="fileInput" style="display: none;" accept="image/*" onchange="previewImage()">
                  <img id="imagePreview"
                    style="width: 150px; height: 150px; object-fit: cover; display: none; cursor: pointer;"
                    onclick="changeImage()">
                </div>
              </div>
            </div>

            <div class="form-group">
              <button type="button" class="btn-send" onclick="actualizarMesa()">Actualizar</button>
              <button type="button" class="btn-send"><a href="tableList.html"
                  style="text-decoration: none; color: white;">Salir</a></button>
            </div>
          </form>

        </div>
      </div>
    </main>
    <!-- MAIN -->
  </section>
  <!-- NAVBAR -->

  <script src="../assets/js/sidebar.js"></script>
  <script src="../controllers/updateTableController.js"></script>
  <script>
    const { ipcRenderer } = require('electron');

    document.addEventListener('DOMContentLoaded', () => {
      const btnSalir = document.getElementById('btnSalir');

      btnSalir.addEventListener('click', async () => {
        // Mostrar SweetAlert de confirmación
        const confirmacion = await mostrarConfirmacion();

        // Si el usuario confirma, enviamos el mensaje para cerrar la ventana
        if (confirmacion.value) {
          ipcRenderer.send('btnSalirClick');
        }
      });

      // Función para mostrar el SweetAlert de confirmación
      function mostrarConfirmacion() {
        return Swal.fire({
          title: '¿Estás seguro de salir?',
          icon: 'warning',
          showCancelButton: true,
          confirmButtonColor: '#049935',
          cancelButtonColor: '#d33',
          confirmButtonText: 'Sí, salir',
          cancelButtonText: 'Cancelar',
        });
      }
    });
  </script>

</body>

</html>